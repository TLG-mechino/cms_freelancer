<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/template/template.xhtml">

    <f:metadata>
        <f:event type="preRenderView" listener="#{mnUserController.initData()}"/>
    </f:metadata>

    <ui:define name="title">Thông tin người dùng</ui:define>

    <ui:define name="content">
        <p:outputPanel>
            <p:link styleClass="title-color-left ui-sm-12">Quản lý người dùng</p:link>

            <div style="float: right" class="ui-sm-12">
                <p:button value="Quay lại" icon="fa fa-arrow-left" outcome="/mn-user.xhtml" styleClass="button-back">
                </p:button>
            </div>
        </p:outputPanel>

        <hr class="hr-class"/>

        <div class="container">
            <div class="container-left" style="float: left">
                <ui:include src="/template/topbar.xhtml"/>
                <ui:include src="menu_user.xhtml"/>
            </div>
            <div class="container-right">
                <h:form styleClass="ui-g-10" id="searchForm" prependId="false" style="background: #FFFFFF; border: 1px solid #E9E9E9; box-sizing: border-box; border-radius: 8px" >
                    <p:outputPanel>
                        <p:link styleClass="title-color-left ui-sm-12">Thông tin profile</p:link>
                    </p:outputPanel>

                    <hr class="hr-class"/>

                    <p:panelGrid columns="2" columnClasses="ui-grid-col-3, ui-grid-col-9"
                                 layout="grid" styleClass="ui-panelgrid-blank" style="margin: 10px 0 10px 0">
                        <p:outputLabel value="Họ và Tên:" styleClass="requireLabel"/>
                        <p:inputText maxlength="100" onchange="this.value = this.value.trim()" size="60"
                                     placeholder="Nhập họ và tên"
                                     value="#{mnUserController.userDtoDetails.fullName}" id="fullName">
                        </p:inputText>

                        <p:outputLabel value="Số điện thoại:" styleClass="requireLabel"/>
                        <p:inputText placeholder="Nhập số điện thoại" maxlength="11" size="60"
                                     onchange="this.value = this.value.trim()"
                                     onkeyup="this.value = this.value.replace(/\D/g, '');"
                                     value="#{mnUserController.userDtoDetails.phone}">
                        </p:inputText>

                        <p:outputLabel value="Email:" styleClass="requireLabel"/>
                        <p:inputText maxlength="100" onchange="this.value = this.value.trim()" size="60"
                                     placeholder="Nhập địa chỉ email"
                                     value="#{mnUserController.userDtoDetails.email}"/>

                        <p:outputLabel value="Link facebook:" styleClass="requireLabel"/>
                        <p:inputText maxlength="100" onchange="this.value = this.value.trim()" size="60"
                                     placeholder="Nhập link facebook"
                                     value="#{mnUserController.userDtoDetails.facebookLink}"/>

                        <p:outputLabel value="Địa chỉ:" styleClass="requireLabel"/>
                        <p:inputText maxlength="100" onchange="this.value = this.value.trim()" size="60"
                                     placeholder="Nhập địa chỉ"
                                     value="#{mnUserController.userDtoDetails.address}"/>

                        <p:outputLabel value="Tổng điểm:" styleClass="requireLabel"/>
                        <p:inputText maxlength="100" onchange="this.value = this.value.trim()" size="60"
                                     value="#{mnUserController.userDtoDetails.totalScore}" disabled="true"/>

                        <p:outputLabel value="Số tiền trong ví:" styleClass="requireLabel"/>
                        <p:inputText maxlength="100" onchange="this.value = this.value.trim()" size="60"
                                     value="#{mnUserController.userDtoDetails.moneyWallet}" disabled="true"/>

                        <p:outputLabel value="Kinh nghiệm làm việc (năm):" styleClass="requireLabel"/>
                        <p:inputNumber maxlength="3" onchange="this.value = this.value.trim()" size="60" minValue="0" maxValue="100"
                                       placeholder="Nhập số năm kinh nghiệm làm việc"
                                     value="#{mnUserController.userDtoDetails.experienceAmount}"/>

                        <p:outputLabel value="Số giờ làm việc:" styleClass="requireLabel"/>
                        <p:inputNumber maxlength="2" onchange="this.value = this.value.trim()" size="60" minValue="0" maxValue="100"
                                       placeholder="Nhập số giờ làm việc"
                                     value="#{mnUserController.userDtoDetails.workingHours}"/>

                    </p:panelGrid>
                    <hr class="hr-class"/>
                    <p:commandButton value="Lưu" styleClass="border-btn" icon="fa fa-save"
                                     style="width: auto"
                                     actionListener="#{mnUserController.onEdit(mnUserController.userDtoDetails)}"/>
                </h:form>
            </div>
        </div>

        <script>
            setTimeout(function() {
                document.getElementById('id-2-4').classList.add('active-menuitem');
                $('#id-2-4').addClass('active-menuitem');
            }, 500);
            setTimeout(function() {
                document.getElementById('id-2').classList.add('active-menuitem');
                $('#id-2').addClass('active-menuitem');
            }, 500);
            setTimeout(function() {
                document.getElementById('userId-1').classList.add('active-menuitem');
                $('#userId-1').addClass('active-menuitem');
            }, 500);
        </script>
    </ui:define>
</ui:composition>
